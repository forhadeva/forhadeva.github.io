<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Love Zone üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Great+Vibes&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
:root{
  --primary:#ff4b6e;
  --secondary:#ff8fa3;
  --bg-gradient: linear-gradient(135deg,#ff9a9e 0%,#fad0c4 99%,#fad0c4 100%);
}

body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:var(--bg-gradient);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#333;
}

/* Glass container */
.container{
  background: rgba(255,255,255,0.25);
  box-shadow:0 8px 32px rgba(31,38,135,0.37);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius:20px;
  border:1px solid rgba(255,255,255,0.18);
  width:90%;
  max-width:420px;
  padding:20px;
  text-align:center;
  overflow:hidden;
  position:relative;
}

h2{
  font-family:'Great Vibes',cursive;
  font-size:2.6rem;
  color:#d6335c;
  margin:0 0 20px;
  text-shadow:2px 2px 4px rgba(0,0,0,0.1);
}

.nav-box{
  background:white;
  border-radius:30px;
  padding:5px;
  display:flex;
  justify-content:space-between;
  margin-bottom:25px;
  box-shadow:0 5px 15px rgba(0,0,0,0.05);
}

.nav-btn{
  flex:1;
  border:none;
  background:transparent;
  padding:10px;
  border-radius:25px;
  cursor:pointer;
  font-weight:600;
  color:#777;
  transition:all .3s ease;
}

.nav-btn.active-btn{
  background:var(--primary);
  color:white;
  box-shadow:0 4px 10px rgba(255,75,110,0.4);
}

/* Sections */
.section{
  display:none;
  animation:fadeIn .5s ease;
}
.section.active{display:block;}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}

/* Inputs & buttons */
input{
  width:85%;
  padding:12px 15px;
  margin:10px 0;
  border-radius:12px;
  border:2px solid rgba(255,255,255,0.5);
  background:rgba(255,255,255,0.8);
  font-size:1rem;
  outline:none;
  transition:.3s;
}
input:focus{
  border-color:var(--primary);
  box-shadow:0 0 10px rgba(255,75,110,0.2);
}

.action-btn{
  padding:12px 30px;
  border:none;
  border-radius:50px;
  background:linear-gradient(45deg,var(--primary),var(--secondary));
  color:white;
  font-size:1.1rem;
  font-weight:700;
  cursor:pointer;
  margin-top:15px;
  box-shadow:0 5px 15px rgba(255,75,110,0.4);
  transition:transform .2s;
}
.action-btn:active{ transform:scale(0.95); }

/* result */
.result-box{
  margin-top:20px;
  min-height:90px;
}
.heart-beat{
  font-size:50px;
  color:var(--primary);
  animation:beat 1s infinite;
  display:none;
}
@keyframes beat{
  0%{transform:scale(1)}
  50%{transform:scale(1.2)}
  100%{transform:scale(1)}
}
.final-score{
  font-size:2.6rem;
  font-weight:800;
  color:#d6335c;
}
.message{
  font-size:.95rem;
  color:#555;
  margin-top:5px;
}
.small{
  font-size:.82rem;
  color:#777;
  margin:0 0 10px;
}

/* Puzzle grid */
.grid{
  width:270px;
  height:270px;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:4px;
  background:#fff;
  padding:5px;
  border-radius:12px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
}
.cell{
  width:100%;
  height:90px;
  background-size:270px 270px;
  cursor:pointer;
  border-radius:7px;
  transition:transform .15s ease;
  background-repeat:no-repeat;
}
.cell.selected{
  border:2px solid var(--primary);
  transform:scale(0.96);
  box-shadow:0 0 10px rgba(255,75,110,.8);
}

/* Puzzle wrapper + START overlay */
.puzzleWrap{
  position:relative;
  width:270px;
  margin:18px auto 8px;
}
.startOverlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:12px;
  background: rgba(255,255,255,0.92);
  backdrop-filter: blur(6px);
  border: 2px dashed rgba(255,75,110,.35);
  cursor:pointer;
  transition:.25s;
}
.startOverlay:hover{ transform:scale(1.01); }
.startOverlay .startBtn{
  padding:14px 26px;
  border:none;
  border-radius:999px;
  background:linear-gradient(45deg,var(--primary),var(--secondary));
  color:white;
  font-weight:800;
  font-size:1.1rem;
  box-shadow:0 10px 25px rgba(255,75,110,.35);
}

/* Pretty modal */
.modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.45);
  padding:18px;
  z-index:9999;
}
.modal.show{ display:flex; }

.modalBox{
  width:min(380px,92vw);
  background:rgba(255,255,255,.92);
  border-radius:18px;
  padding:18px 16px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.25);
  animation:pop .25s ease;
}
@keyframes pop{
  from{transform:scale(.92); opacity:0;}
  to{transform:scale(1); opacity:1;}
}
.modalBox h3{ margin:4px 0 6px; color:#d6335c; }
.modalBox p{ margin:0 0 14px; color:#555; font-size:.95rem; }

.modalActions{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.modalBtn{
  border:none;
  padding:10px 16px;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
}
.modalBtn.primary{
  background:linear-gradient(45deg,var(--primary),var(--secondary));
  color:white;
}
.modalBtn.ghost{
  background:rgba(255,75,110,.10);
  color:#d6335c;
}
</style>
</head>

<body>

<div class="container">
  <h2>Love Zone üíò</h2>

  <div class="nav-box">
    <button class="nav-btn active-btn" onclick="show('home', this)">Home</button>
    <button class="nav-btn" onclick="show('calc', this)">Calc</button>
    <button class="nav-btn" onclick="show('game', this)">Puzzle</button>
  </div>

  <!-- HOME -->
  <div id="home" class="section active">
    <i class="fas fa-heart" style="font-size:60px;color:var(--primary);margin:20px 0;animation:beat 2s infinite;"></i>
    <h3>Welcome to Love Zone</h3>
    <p style="color:#666;margin-top:-6px;">Love Calculator + Romantic Puzzle Game üíñ</p>
    <button class="action-btn" onclick="document.querySelectorAll('.nav-btn')[1].click()">Get Started</button>
  </div>

  <!-- CALC -->
  <div id="calc" class="section">
    <h3>Love Calculator</h3>
    <input id="n1" placeholder="Your Name" autocomplete="off">
    <input id="n2" placeholder="Partner's Name" autocomplete="off">
    <button class="action-btn" onclick="calculateLove()">Calculate</button>

    <div class="result-box">
      <div id="loading" class="heart-beat">‚ù§Ô∏è</div>
      <div id="resultText"></div>
    </div>
  </div>

  <!-- PUZZLE -->
  <div id="game" class="section">
    <h3>Photo Puzzle</h3>
    <p class="small">Tap two pieces to swap them!</p>

    <div class="puzzleWrap">
      <div class="grid" id="grid"></div>

      <!-- START overlay -->
      <div class="startOverlay" id="startOverlay" onclick="startPuzzle()">
        <button class="startBtn">START üß©</button>
      </div>
    </div>

    <button class="action-btn" onclick="startGame()">Shuffle & Restart</button>
    <p class="small" style="margin-top:10px;">
      ‚úÖ Put your image as <b>love.png</b> in the same folder (OneCompiler Files).
    </p>
  </div>
</div>

<!-- WIN MODAL -->
<div class="modal" id="winModal">
  <div class="modalBox">
    <div style="font-size:42px;">üíñüéâ</div>
    <h3>Puzzle Completed!</h3>
    <p id="winText">You did it! Love wins üòò</p>

    <div class="modalActions">
      <button class="modalBtn primary" onclick="restartPuzzle()">Play Again</button>
      <button class="modalBtn ghost" onclick="closeModal()">Close</button>
    </div>
  </div>
</div>

<script>
/* NAV */
function show(id, btn) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  if (btn) {
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active-btn'));
    btn.classList.add('active-btn');
  }
}

/* LOVE CALCULATOR */
function calculateLove() {
  let name1 = document.getElementById("n1").value.trim();
  let name2 = document.getElementById("n2").value.trim();
  let resDiv = document.getElementById("resultText");
  let loader = document.getElementById("loading");

  if (!name1 || !name2) { alert("Please enter both names!"); return; }

  resDiv.innerHTML = "";
  loader.style.display = "block";

  setTimeout(() => {
    loader.style.display = "none";

    let combined = (name1 + "‚ô•" + name2).toLowerCase();
    let score = 0;
    for (let i = 0; i < combined.length; i++) score += combined.charCodeAt(i);
    let percentage = (score % 101);
    if (percentage < 15) percentage += 15;

    let msg = "";
    if (percentage > 85) msg = "Perfect Match! üíç";
    else if (percentage > 60) msg = "Looking Good! üòò";
    else if (percentage > 40) msg = "Maybe just friends? üò¨";
    else msg = "Run Away! üèÉ‚Äç‚ôÇÔ∏è";

    resDiv.innerHTML = `
      <div class="final-score">${percentage}%</div>
      <div class="message">${msg}</div>
    `;
  }, 1200);
}

/* PUZZLE */
const puzzleImg = "https://uploads.onecompiler.io/44dhqmwxh/44dhqbxxu/%E0%B8%A3%E0%B8%B1%E0%B8%81%E0%B8%88%E0%B8%B1%E0%B8%87.jpeg";  // ‚úÖ upload this in OneCompiler Files

let order = [];
let firstSelected = null;
let puzzleStarted = false;

function startPuzzle(){
  puzzleStarted = true;
  document.getElementById("startOverlay").style.display = "none";
  startGame();
}

function startGame() {
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  firstSelected = null;

  order = [0,1,2,3,4,5,6,7,8];
  do { order.sort(() => Math.random() - 0.5); }
  while (isSolved());

  renderGrid();
}

function renderGrid(){
  const gridSize = 270;
  const tile = 90;

  const grid = document.getElementById("grid");
  grid.innerHTML = "";

  order.forEach((num, index) => {
    const div = document.createElement("div");
    div.className = "cell";
    div.style.backgroundImage = `url('${puzzleImg}')`;
    div.style.backgroundSize = `${gridSize}px ${gridSize}px`;

    const x = (num % 3) * -tile;
    const y = Math.floor(num / 3) * -tile;
    div.style.backgroundPosition = `${x}px ${y}px`;

    div.onclick = () => selectTile(index);
    grid.appendChild(div);
  });
}

function selectTile(index){
  if(!puzzleStarted) return;

  const cells = document.querySelectorAll(".cell");

  if(firstSelected === null){
    firstSelected = index;
    cells[index].classList.add("selected");
  } else {
    [order[firstSelected], order[index]] = [order[index], order[firstSelected]];
    cells[firstSelected].classList.remove("selected");
    firstSelected = null;

    renderGrid();

    if(isSolved()){
      setTimeout(() => openWinModal(), 220);
    }
  }
}

function isSolved(){
  for(let i=0;i<9;i++){
    if(order[i] !== i) return false;
  }
  return true;
}

/* Pretty modal */
function openWinModal(){
  document.getElementById("winText").textContent = ".";
  document.getElementById("winModal").classList.add("show");
}
function closeModal(){
  document.getElementById("winModal").classList.remove("show");
}
function restartPuzzle(){
  closeModal();
  startGame();
}

/* On load: show START overlay, grid empty */
window.onload = function(){
  document.getElementById("grid").innerHTML = "";
  document.getElementById("startOverlay").style.display = "flex";
  puzzleStarted = false;
};
</script>

</body>
</html>
